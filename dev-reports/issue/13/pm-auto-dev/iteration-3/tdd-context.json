{
  "issue_number": 13,
  "issue_title": "UX改善",
  "current_phase": "Phase 3: プロンプト分離",
  "acceptance_criteria": [
    "PromptPanelコンポーネントがyes/no/複数選択プロンプトを表示できること",
    "PromptPanelがプロンプト検出時のみ表示されること",
    "PromptPanelで回答送信後、適切にコールバックが呼ばれること",
    "PromptPanelにアニメーション（フェードイン/アウト）が適用されていること",
    "MessageListからプロンプト表示ロジックが分離されていること",
    "全テストがパスすること",
    "ESLint/TypeScriptエラーが0件であること",
    "カバレッジが70%以上であること（Phase 3ファイル）"
  ],
  "implementation_tasks": [
    {
      "id": "3.1",
      "name": "PromptPanel コンポーネント",
      "file": "src/components/worktree/PromptPanel.tsx",
      "description": "プロンプト応答専用パネル（yes/no、複数選択、テキスト入力対応）"
    },
    {
      "id": "3.2",
      "name": "usePromptAnimation フック",
      "file": "src/hooks/usePromptAnimation.ts",
      "description": "プロンプトパネルのアニメーション制御"
    }
  ],
  "test_files": [
    "tests/unit/components/PromptPanel.test.tsx",
    "tests/unit/hooks/usePromptAnimation.test.ts"
  ],
  "target_coverage": 70,
  "design_document": "dev-reports/design/issue-13-ux-improvement-design-policy.md",
  "existing_implementations": [
    "src/types/ui-state.ts (Phase 1で実装済み)",
    "src/types/ui-actions.ts (Phase 1で実装済み)",
    "src/hooks/useWorktreeUIState.ts (Phase 1で実装済み)",
    "src/components/worktree/TerminalDisplay.tsx (Phase 1で実装済み)",
    "src/components/worktree/HistoryPane.tsx (Phase 2で実装済み)",
    "src/components/worktree/PaneResizer.tsx (Phase 2で実装済み)",
    "src/components/worktree/WorktreeDesktopLayout.tsx (Phase 2で実装済み)",
    "src/lib/sanitize.ts (XSSサニタイズ - 実装済み)",
    "src/components/error/ErrorBoundary.tsx (エラーバウンダリ - 実装済み)"
  ],
  "dependencies": {
    "PromptData": "src/types/models.ts",
    "WorktreeUIState": "src/types/ui-state.ts"
  }
}
