# CommandMate Production Environment Configuration
# Copy this file to .env for production deployment
# Or use: ./scripts/setup-env.sh for interactive setup

# ===================================
# Server Configuration
# ===================================

# Root directory for worktree scanning
# This is the base directory that contains your git worktrees
CM_ROOT_DIR=/path/to/your/worktrees

# Server port (default: 3000)
CM_PORT=3000

# Bind address
# - 127.0.0.1: Localhost only (development, no auth required)
# - 0.0.0.0: All interfaces (production, auth required)
# IMPORTANT: Use 0.0.0.0 for production to allow external access
CM_BIND=0.0.0.0

# ===================================
# Security (REQUIRED FOR PRODUCTION)
# ===================================

# Authentication token for API access
# REQUIRED when CM_BIND=0.0.0.0
# Generate a secure random token:
#   openssl rand -hex 32
CM_AUTH_TOKEN=your-secure-token-here-replace-this

# Client-side auth token (for browser)
# Must match CM_AUTH_TOKEN
NEXT_PUBLIC_CM_AUTH_TOKEN=your-secure-token-here-replace-this

# ===================================
# Database
# ===================================

# SQLite database file path
# For production, use an absolute path
CM_DB_PATH=/path/to/production/data/cm.db

# ===================================
# Logging (Optional)
# ===================================

# Log level: debug, info, warn, error (default: info)
# CM_LOG_LEVEL=info

# Log format: text, json (default: text)
# CM_LOG_FORMAT=text

# Log directory (optional)
# CM_LOG_DIR=/path/to/logs

# ===================================
# Node Environment
# ===================================

# Set to production for optimized builds
NODE_ENV=production

# ===================================
# Legacy Support (Deprecated)
# ===================================
# The following MCBD_* variables are deprecated but still supported
# for backward compatibility via Issue #76 fallback mechanism.
# Please migrate to CM_* variables above.
#
# MCBD_ROOT_DIR -> CM_ROOT_DIR
# MCBD_PORT -> CM_PORT
# MCBD_BIND -> CM_BIND
# MCBD_AUTH_TOKEN -> CM_AUTH_TOKEN
# DATABASE_PATH -> CM_DB_PATH
#
# See: docs/migration-to-commandmate.md
