{
  "issue_number": 94,
  "acceptance_criteria": [
    "画像ファイル（.png, .jpg, .jpeg, .gif, .webp）をアップロードできる",
    "テキストファイル（.txt, .log）をアップロードできる",
    "マークダウンファイル（.md）をアップロードできる",
    "CSVファイル（.csv）をアップロードできる",
    "設定ファイル（.json, .yaml, .yml）をアップロードできる",
    "1ファイルあたり5MBまでのファイルをアップロードできる",
    "ファイルサイズ超過時に適切なエラーメッセージが表示される",
    "未対応の拡張子のファイルは拒否され、エラーメッセージが表示される",
    "アップロード完了後にファイルツリーが自動更新される",
    "アップロード完了時にToast通知が表示される",
    "パストラバーサル攻撃を防止できる（isPathSafe()による検証）",
    "右クリックメニューから「ファイルをアップロード」が選択できる",
    "マジックバイト検証により拡張子偽装を防止できる"
  ],
  "implementation_tasks": [
    "Phase 1: 型定義・設定 - FileOperationErrorCode型拡張、ERROR_CODE_TO_HTTP_STATUS更新、isValidNewName拡張、uploadable-extensions.ts作成",
    "Phase 2: ビジネスロジック - writeBinaryFile関数の実装",
    "Phase 3: API - アップロードAPIルート作成（/api/worktrees/:id/files/:path/upload）、next.config.js設定変更",
    "Phase 4: UI - ContextMenu更新、FileTreeView更新、WorktreeDetailRefactored更新",
    "Phase 5: テスト - 単体テスト、結合テスト、E2Eテスト作成"
  ],
  "target_coverage": 80,
  "design_policy_path": "dev-reports/design/issue-94-file-upload-design-policy.md",
  "work_plan_path": "dev-reports/issue/94/work-plan.md"
}
