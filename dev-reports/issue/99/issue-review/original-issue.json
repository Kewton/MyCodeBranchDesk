{"body":"## 概要\n\nマークダウンエディタ（Issue #49）の表示機能を改善し、デスクトップ・モバイル両環境でより柔軟な編集体験を提供する。\n\n## 背景\n\n現在のマークダウンエディタは固定レイアウトのため、以下の課題がある：\n- 長文編集時に表示領域が狭く感じる\n- Split View時のエディタ/プレビュー比率が固定\n- モバイルデバイスでの操作性が考慮されていない\n\n## 機能要件\n\n### 1. 最大化表示機能\n\n#### デスクトップ\n- エディタ領域を画面全体に最大化表示できるボタンを追加\n- 最大化時はサイドバー・ヘッダー等のUI要素を非表示\n- ESCキーまたはボタンクリックで元のサイズに戻る\n- キーボードショートカット対応（`Ctrl/Cmd + Shift + F`）\n\n#### モバイル\n- フルスクリーンAPIを活用した没入型編集モード\n- スワイプダウンジェスチャーで最大化解除\n- ステータスバー領域も含めた完全フルスクリーン表示\n\n### 2. Split Viewの表示領域リサイズ\n\n#### デスクトップ\n- エディタとプレビューの境界線をドラッグで移動可能\n- リサイズハンドル（幅4-6px）を視覚的に表示\n- ホバー時にカーソル変更（`col-resize`）\n- ダブルクリックで50:50にリセット\n- 最小幅制限（各パネル最低20%）\n\n#### モバイル\n- ドラッグ操作はタッチ対応（`touch-action: none`）\n- リサイズハンドルのタッチ領域を拡大（最低44px）\n- 横向き（landscape）時のみSplit View有効\n- 縦向き（portrait）時はタブ切替UIに自動変更\n\n### 3. モバイル専用UX改善\n\n- **タブ切替UI**: 縦向き時は「エディタ」「プレビュー」タブで切替\n- **ツールバー最適化**: モバイル時は必須ボタンのみ表示、その他はメニューに格納\n- **タッチフレンドリー**: ボタンサイズ最低44x44px確保\n- **仮想キーボード対応**: キーボード表示時のレイアウト調整\n- **オートセーブインジケーター**: 保存状態をコンパクトに表示\n\n## UI/UXデザイン案\n\n### デスクトップレイアウト\n```\n┌─────────────────────────────────────────────────┐\n│ [ツールバー]              [Split|Editor|Preview] [⛶] │\n├──────────────────┬──┬────────────────────────────┤\n│                  │▌│                            │\n│    エディタ       │▌│      プレビュー             │\n│                  │▌│                            │\n│                  │▌│  ← ドラッグでリサイズ        │\n│                  │▌│                            │\n└──────────────────┴──┴────────────────────────────┘\n```\n\n### モバイルレイアウト（縦向き）\n```\n┌─────────────────────┐\n│ [エディタ] [プレビュー] │  ← タブ切替\n├─────────────────────┤\n│                     │\n│   アクティブな       │\n│   パネル表示         │\n│                     │\n├─────────────────────┤\n│ [ツールバー（最小限）] │\n└─────────────────────┘\n```\n\n## 受け入れ条件\n\n### 必須\n- [ ] 最大化ボタンがエディタツールバーに表示される\n- [ ] 最大化時にエディタが画面全体を占有する\n- [ ] ESCキー/スワイプで最大化を解除できる\n- [ ] Split View時にドラッグで表示領域を変更できる（デスクトップ）\n- [ ] リサイズ位置がlocalStorageに保存・復元される\n- [ ] モバイル縦向き時はタブ切替UIに変更される\n- [ ] タッチ操作でリサイズハンドルを操作できる（モバイル横向き）\n\n### テスト\n- [ ] 単体テストが追加されている\n- [ ] E2Eテストが追加されている（デスクトップ）\n- [ ] モバイルビューポートでのE2Eテストが追加されている\n\n## 技術的考慮事項\n\n### 実装アプローチ\n| 機能 | 推奨技術 |\n|------|---------|\n| 最大化 | CSS `position: fixed` + `z-index` / Fullscreen API |\n| リサイズ | カスタム実装（`mousedown/mousemove/mouseup` + `touch`イベント） |\n| 状態管理 | `useState` + `localStorage` |\n| レスポンシブ | CSS Media Queries + `useMediaQuery` フック |\n| タッチ対応 | `touch-action` CSS + Pointer Events API |\n\n### パフォーマンス考慮\n- リサイズ中は`requestAnimationFrame`でスロットリング\n- プレビュー再レンダリングは`debounce`（300ms）\n\n### アクセシビリティ\n- 最大化ボタンに`aria-expanded`属性\n- リサイズハンドルに`role=\"separator\"` + `aria-orientation=\"vertical\"`\n- キーボード操作でもリサイズ可能（矢印キー）\n\n## 関連Issue\n\n- #49 マークダウンエディタとビューワー\n\n## 参考\n\n- [Fullscreen API - MDN](https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API)\n- [Touch Events - MDN](https://developer.mozilla.org/en-US/docs/Web/API/Touch_events)\n- [WCAG 2.1 Target Size](https://www.w3.org/WAI/WCAG21/Understanding/target-size.html)","title":"マークダウンエディタの表示機能改善"}
