{"body":"## 概要\n\n履歴タブ（HistoryPane）に表示される過去のユーザー入力やAssistant応答を、個別にクリップボードへコピーできるボタンを追加する。\n\n## 背景・課題\n\n- Assistantの回答（コード断片、コマンド、説明文等）を別の場所で再利用したいケースが多いが、現在はテキストを手動で選択・コピーする必要がある\n- 特にコードブロックを含む長い応答は、手動選択ではコピー範囲が不正確になりやすい\n- ChatGPTなど類似ツールではメッセージごとのコピーボタンが標準的なUXとして提供されている\n\n## 提案する解決策\n\n各メッセージバブル（ユーザー入力・Assistant応答）にコピーアイコンボタンを常時表示し、クリックでメッセージ内容をプレーンテキストとしてクリップボードにコピーする。コピー成功時にはToast通知で「コピーしました」を表示する。\n\n### 主要な変更点\n\n- `ConversationPairCard.tsx` の各メッセージセクションにコピーボタンを追加\n- `navigator.clipboard.writeText()` によるクリップボードコピー\n- 既存の `Toast` コンポーネントを活用したフィードバック表示\n- `MessageList.tsx`（レガシー表示）にも同様のコピーボタンを追加\n\n## 実装タスク\n\n- [ ] コピーユーティリティ関数の作成（`navigator.clipboard.writeText` ラッパー）\n- [ ] `ConversationPairCard.tsx` にコピーボタンUI追加（ユーザー・Assistant両方）\n- [ ] `MessageList.tsx` にコピーボタンUI追加\n- [ ] コピー成功/失敗のToast通知実装\n- [ ] コピーアイコン（ClipboardCopyアイコン）の選定・配置\n\n## 受入条件\n\n- [ ] HistoryPaneの各メッセージバブルにコピーボタンが表示されること\n- [ ] コピーボタンクリックでメッセージ内容がクリップボードにプレーンテキストとしてコピーされること\n- [ ] コピー成功時にToast通知が表示されること\n- [ ] コピー失敗時（Clipboard API非対応等）にエラーToastが表示されること\n\n## 影響範囲\n\n### 変更対象ファイル\n\n| ファイル | 変更内容 |\n|---------|---------|\n| `src/components/worktree/ConversationPairCard.tsx` | コピーボタンUI追加 |\n| `src/components/worktree/MessageList.tsx` | コピーボタンUI追加 |\n\n### 関連コンポーネント\n\n- `src/components/worktree/HistoryPane.tsx` - 親コンポーネント（変更不要の見込み）\n- `src/components/common/Toast.tsx` - フィードバック表示（既存活用）\n- `src/types/conversation.ts` - ConversationPair型定義（変更不要の見込み）","title":"履歴から過去の入力やレスポンスをコピー可能にしたい"}
