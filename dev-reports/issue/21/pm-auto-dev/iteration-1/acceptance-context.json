{
  "issue_number": 21,
  "feature_summary": "ファイルツリー検索機能",
  "acceptance_criteria": [
    "ファイルツリー上部に検索バーが常時表示されること（デスクトップ）",
    "モバイルでは検索アイコンタップで検索バーが表示/非表示されること",
    "ファイル名検索モードで、入力文字列にマッチするファイル/ディレクトリのみ表示されること",
    "ファイル内容検索モードで、ファイル内テキストにマッチするファイルのみ表示されること",
    "検索モード（名前/内容）を切り替えられること",
    "検索クリア時に元のツリー表示に戻ること",
    "PCで動作すること",
    "スマホで動作すること",
    ".env等の機密ファイルが検索対象から除外されること（EXCLUDED_PATTERNS準拠）",
    "ファイル名検索は入力後300ms以内にフィルタリングが開始されること",
    "ファイル内容検索は5秒以内に結果が返却されること",
    "検索中にローディング表示されること",
    "検索結果が0件の場合、適切なメッセージが表示されること",
    "マッチしたファイルの親ディレクトリが自動展開されること",
    "検索結果にマッチ箇所がハイライト表示されること"
  ],
  "test_scenarios": [
    "シナリオ1: デスクトップでFilesタブを開き、SearchBarが表示されることを確認",
    "シナリオ2: 検索入力欄にテキストを入力し、ファイルツリーがフィルタリングされることを確認",
    "シナリオ3: モード切替ボタンでNameとContentを切り替えられることを確認",
    "シナリオ4: クリアボタンで検索をリセットし、全ファイルが表示されることを確認",
    "シナリオ5: 内容検索モードでAPIが呼び出され、ローディング表示されることを確認",
    "シナリオ6: 存在しないファイル名で検索し、「No files matching」メッセージが表示されることを確認",
    "シナリオ7: Escapeキーで検索がクリアされることを確認",
    "シナリオ8: .envファイルが検索結果に含まれないことを確認（セキュリティ）",
    "シナリオ9: 検索クエリにマッチするファイル名がハイライト表示されることを確認",
    "シナリオ10: モバイルビューでFileTreeViewにSearchBarが表示されることを確認",
    "シナリオ11: コンテンツ検索で結果のファイルパスが相対パスで返却されることを確認（セキュリティ）",
    "シナリオ12: ESLint/TypeScriptエラー0件、ビルド成功を確認"
  ]
}
