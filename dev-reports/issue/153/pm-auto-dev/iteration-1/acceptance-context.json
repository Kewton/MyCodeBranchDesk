{
  "issue_number": 153,
  "issue_title": "Auto-Yes UIとバックグラウンドの状態不整合",
  "design_doc_path": "dev-reports/design/issue-153-auto-yes-state-inconsistency-design-policy.md",
  "tdd_result_path": "dev-reports/issue/153/pm-auto-dev/iteration-1/tdd-result.json",
  "acceptance_criteria": [
    {
      "id": "AC-001",
      "description": "Auto-Yesを有効化後、モジュール再読み込みが発生してもUI状態が正しく表示されること",
      "test_approach": "統合テストでvi.resetModules()を使用してシミュレーション済み"
    },
    {
      "id": "AC-002",
      "description": "UIからOFFにした場合、バックグラウンドポーラーも確実に停止すること",
      "test_approach": "既存のユニットテストでstopAutoYesPolling()の動作確認済み"
    },
    {
      "id": "AC-003",
      "description": "lastServerResponseTimestampが正しく更新されること",
      "test_approach": "既存のユニットテストで確認済み"
    },
    {
      "id": "AC-004",
      "description": "開発環境・本番環境の両方で問題が発生しないこと",
      "test_approach": "ビルド成功確認、手動検証は開発者が実施"
    },
    {
      "id": "AC-005",
      "description": "既存の自動テストがすべてパスすること",
      "test_approach": "npm run test:unit で全テストパス確認"
    }
  ],
  "quality_checks": [
    {
      "name": "TypeScript型チェック",
      "command": "npx tsc --noEmit",
      "expected": "エラー0件"
    },
    {
      "name": "ESLint",
      "command": "npm run lint",
      "expected": "エラー0件"
    },
    {
      "name": "ユニットテスト",
      "command": "npm run test:unit",
      "expected": "全テストパス"
    },
    {
      "name": "ビルド",
      "command": "npm run build",
      "expected": "成功"
    }
  ]
}
