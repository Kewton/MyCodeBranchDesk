{
  "issue_number": 287,
  "iteration": 2,
  "stage": 6,
  "apply_date": "2026-02-15",
  "applied_findings": {
    "must_fix": [],
    "should_fix": [
      {
        "id": "SF-1",
        "status": "applied",
        "change_summary": "defaultOption フィールド名を defaultOptionNumber に変更し、multiple_choice 型専用であることを明確化。MultipleChoiceOption.isDefault（boolean）から options.find(o => o.isDefault)?.number で導出するロジックを「defaultOptionNumberの導出ロジック」セクションとして追加。YesNoPromptData.defaultOption（'yes' | 'no' 型）との混同を防止するための注意書きも追記。修正ファイル一覧・受け入れ条件・影響範囲等で defaultOption を defaultOptionNumber に一括変更"
      },
      {
        "id": "SF-2",
        "status": "applied",
        "change_summary": "useAutoYes.ts の影響範囲説明で「propsとして受け取っている（L76）」を「関数パラメータとして受け取っている（L30: promptData: PromptData | null）」に修正。L76は promptKey 生成行であり、promptData の受け取り箇所ではないことを反映"
      }
    ],
    "nice_to_have": [
      {
        "id": "NTH-1",
        "status": "applied",
        "change_summary": "route.ts のフォールバック判定ロジックの疑似コードを「フォールバック判定ロジックの疑似コード」セクションとしてアプローチBの修正箇所内に追加。promptCheck が存在する場合はそちらを優先し、null の場合のみリクエストボディの promptType にフォールバックする判定順序をTypeScriptコード例で明示"
      },
      {
        "id": "NTH-2",
        "status": "applied",
        "change_summary": "PromptResponseRequest 型の配置方針を修正ファイル一覧の route.ts 行に追記。本Issueでは route.ts 内のローカル定義のまま拡張し、src/types/models.ts への共有化は別Issueとするスコープ判断を明記"
      }
    ]
  },
  "summary": {
    "total_findings": 4,
    "applied": 4,
    "skipped": 0
  },
  "github_update": {
    "status": "success",
    "issue_url": "https://github.com/Kewton/CommandMate/issues/287"
  }
}
