---
model: opus
description: "設計レビュー、リスク評価、改善提案"
---

# アーキテクチャレビューコマンド

## 概要
設計書のレビュー、リスク評価、改善提案を行うコマンドです。

## 使用方法
```bash
/architecture-review [設計書パス]
```

**例**:
```bash
/architecture-review docs/design/api-spec.md
/architecture-review src/lib/
```

## 実行内容

あなたはシニアソフトウェアアーキテクトです。以下の観点から設計レビューを実施してください：

### 1. 設計原則の遵守確認

#### SOLID原則チェック
- [ ] **S**ingle Responsibility: 各モジュールが単一の責任を持っているか
- [ ] **O**pen/Closed: 拡張に開いて修正に閉じているか
- [ ] **L**iskov Substitution: 派生クラスが基底クラスと置換可能か
- [ ] **I**nterface Segregation: インターフェースが適切に分離されているか
- [ ] **D**ependency Inversion: 依存関係が適切に逆転しているか

#### その他の原則
- [ ] KISS原則: シンプルさが保たれているか
- [ ] YAGNI原則: 不要な複雑性がないか
- [ ] DRY原則: 重複が排除されているか

### 2. アーキテクチャ評価

#### 構造的品質
| 評価項目 | スコア(1-5) | コメント |
|---------|------------|----------|
| モジュール性 | | |
| 結合度 | | |
| 凝集度 | | |
| 拡張性 | | |
| 保守性 | | |

#### パフォーマンス観点
- レスポンスタイム予測
- スループット評価
- リソース使用効率
- スケーラビリティ

### 3. セキュリティレビュー

#### OWASP Top 10 チェック
- [ ] インジェクション対策
- [ ] 認証の破綻対策
- [ ] 機微データの露出対策
- [ ] XXE対策
- [ ] アクセス制御の不備対策
- [ ] セキュリティ設定ミス対策
- [ ] XSS対策
- [ ] 安全でないデシリアライゼーション対策
- [ ] 既知の脆弱性対策
- [ ] ログとモニタリング不足対策

### 4. 既存システムとの整合性

#### 統合ポイント
- API互換性
- データモデル整合性
- 認証/認可の一貫性
- ログ/監視の統合

#### 技術スタックの適合性
- 既存技術との親和性（Next.js 14, TypeScript, SQLite）
- チームのスキルセット
- 運用負荷への影響

### 5. リスク評価

| リスク種別 | 内容 | 影響度 | 発生確率 | 対策優先度 |
|-----------|------|-------|---------|-----------|
| 技術的リスク | | | | |
| 運用リスク | | | | |
| セキュリティリスク | | | | |
| ビジネスリスク | | | | |

### 6. 改善提案

#### 必須改善項目（Must Fix）
1. [重大な問題と修正案]

#### 推奨改善項目（Should Fix）
1. [改善すべき点と提案]

#### 検討事項（Consider）
1. [将来的に検討すべき点]

### 7. ベストプラクティスとの比較

#### 業界標準との差異
- 採用されていない一般的パターン
- 独自実装の妥当性評価

#### 代替アーキテクチャ案
- 代替案1: [説明]
  - メリット:
  - デメリット:
- 代替案2: [説明]
  - メリット:
  - デメリット:

### 8. 総合評価

#### レビューサマリ
- **全体評価**: ⭐⭐⭐⭐☆（4/5）
- **強み**:
- **弱み**:
- **総評**:

#### 承認判定
- [ ] 承認（Approved）
- [ ] 条件付き承認（Conditionally Approved）
- [ ] 要再設計（Needs Major Changes）

#### 次のステップ
1. 必須修正項目の対応
2. ドキュメントの更新
3. 実装着手の可否判断

## 出力フォーマット

PRコメントやIssueコメントとして使用可能なMarkdown形式で出力。

**出力先**: `dev-reports/review/<日時>-architecture-review.md`

## 関連コマンド

- `/design-policy`: 設計方針策定
- `/work-plan`: 作業計画立案
- `/refactoring`: コード改善実行
