{
  "issue_number": 20,
  "feature_summary": "スマホ利用時決定キーでチャット送信ではなく改行したい",
  "acceptance_criteria": [
    {
      "id": "AC1",
      "description": "モバイルデバイスでEnterキーを押すと改行が入力される",
      "priority": "must"
    },
    {
      "id": "AC2",
      "description": "モバイルデバイスでは送信ボタンでのみメッセージが送信される",
      "priority": "must"
    },
    {
      "id": "AC3",
      "description": "デスクトップではEnterキーでメッセージが送信される（現状維持）",
      "priority": "must"
    },
    {
      "id": "AC4",
      "description": "デスクトップではShift+Enterで改行が入力される（現状維持）",
      "priority": "must"
    },
    {
      "id": "AC5",
      "description": "IME入力中はEnterキーで送信されない（現状維持）",
      "priority": "must"
    },
    {
      "id": "AC6",
      "description": "送信ボタンにaria-labelが設定されている",
      "priority": "should"
    }
  ],
  "test_scenarios": [
    {
      "id": "TS1",
      "name": "デスクトップでEnterキー押下時にメッセージが送信される",
      "steps": [
        "デスクトップブラウザでアプリを開く",
        "テキストエリアにメッセージを入力",
        "Enterキーを押下"
      ],
      "expected_result": "メッセージが送信される",
      "acceptance_criteria": ["AC3"]
    },
    {
      "id": "TS2",
      "name": "デスクトップでShift+Enter押下時に改行が入力される",
      "steps": [
        "デスクトップブラウザでアプリを開く",
        "テキストエリアにメッセージを入力",
        "Shift+Enterを押下"
      ],
      "expected_result": "改行が入力され、メッセージは送信されない",
      "acceptance_criteria": ["AC4"]
    },
    {
      "id": "TS3",
      "name": "モバイルでEnterキー押下時に改行が入力される",
      "steps": [
        "モバイルデバイス（幅768px未満）でアプリを開く",
        "テキストエリアにメッセージを入力",
        "Enterキーを押下"
      ],
      "expected_result": "改行が入力され、メッセージは送信されない",
      "acceptance_criteria": ["AC1"]
    },
    {
      "id": "TS4",
      "name": "モバイルで送信ボタン押下時にメッセージが送信される",
      "steps": [
        "モバイルデバイス（幅768px未満）でアプリを開く",
        "テキストエリアにメッセージを入力",
        "送信ボタンをクリック"
      ],
      "expected_result": "メッセージが送信される",
      "acceptance_criteria": ["AC2"]
    },
    {
      "id": "TS5",
      "name": "IME入力中にEnterキーを押してもメッセージが送信されない",
      "steps": [
        "日本語入力モードでアプリを開く",
        "テキストエリアに日本語を入力（変換中）",
        "Enterキーを押下して変換を確定"
      ],
      "expected_result": "変換が確定され、メッセージは送信されない",
      "acceptance_criteria": ["AC5"]
    },
    {
      "id": "TS6",
      "name": "送信ボタンにaria-labelが設定されている",
      "steps": [
        "アプリを開く",
        "送信ボタンの属性を確認"
      ],
      "expected_result": "aria-label=\"Send message\"が設定されている",
      "acceptance_criteria": ["AC6"]
    }
  ],
  "tdd_result_path": "dev-reports/issue/20/pm-auto-dev/iteration-1/tdd-result.json",
  "verification_commands": [
    "npm run test:unit -- --grep MessageInput",
    "npm run lint",
    "npx tsc --noEmit"
  ]
}
