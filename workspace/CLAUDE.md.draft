# CLAUDE.md (Draft)

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯Claude Codeå‘ã‘ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã™ã€‚

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### åŸºæœ¬æƒ…å ±
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: MyCodeBranchDesk
- **èª¬æ˜**: Git worktreeç®¡ç†ã¨Claude CLI/tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³çµ±åˆãƒ„ãƒ¼ãƒ«
- **ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/Kewton/MyCodeBranchDesk

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ |
|---------|------|
| **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯** | Next.js 14 |
| **è¨€èª** | TypeScript |
| **ã‚¹ã‚¿ã‚¤ãƒ«** | Tailwind CSS |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹** | SQLite (better-sqlite3) |
| **ãƒ†ã‚¹ãƒˆ** | Vitest (unit/integration), Playwright (e2e) |

---

## ãƒ–ãƒ©ãƒ³ãƒæ§‹æˆ

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥
```
main (æœ¬ç•ª) â† PRãƒãƒ¼ã‚¸ã®ã¿ ğŸ”’
  â”‚
feature/*, fix/*, hotfix/* (ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒ)
```

### å‘½åè¦å‰‡
| ãƒ–ãƒ©ãƒ³ãƒç¨®é¡ | ãƒ‘ã‚¿ãƒ¼ãƒ³ | ä¾‹ |
|-------------|----------|-----|
| æ©Ÿèƒ½è¿½åŠ  | `feature/<issue-number>-<description>` | `feature/123-add-dark-mode` |
| ãƒã‚°ä¿®æ­£ | `fix/<issue-number>-<description>` | `fix/456-fix-login-error` |
| ç·Šæ€¥ä¿®æ­£ | `hotfix/<description>` | `hotfix/critical-security-fix` |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | `docs/<description>` | `docs/update-readme` |

---

## æ¨™æº–ãƒãƒ¼ã‚¸ãƒ•ãƒ­ãƒ¼

### é€šå¸¸ãƒ•ãƒ­ãƒ¼
```mermaid
graph LR
  F[feature/*] -->|PR| M[main]
  FX[fix/*] -->|PR| M
```

### PRãƒ«ãƒ¼ãƒ«
1. **PRã‚¿ã‚¤ãƒˆãƒ«**: `<type>: <description>` å½¢å¼
   - ä¾‹: `feat: add dark mode toggle`
   - ä¾‹: `fix: resolve login error`
2. **PRãƒ©ãƒ™ãƒ«**: ç¨®é¡ã«å¿œã˜ãŸãƒ©ãƒ™ãƒ«ã‚’ä»˜ä¸
   - `feature`, `bug`, `documentation`, `refactor`
3. **ãƒ¬ãƒ“ãƒ¥ãƒ¼**: 1åä»¥ä¸Šã®æ‰¿èªå¿…é ˆï¼ˆmainå‘ã‘PRï¼‰
4. **CI/CD**: å…¨ãƒã‚§ãƒƒã‚¯ãƒ‘ã‚¹å¿…é ˆ

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„
```
<type>(<scope>): <subject>

<body>

<footer>
```

| type | èª¬æ˜ |
|------|------|
| `feat` | æ–°æ©Ÿèƒ½ |
| `fix` | ãƒã‚°ä¿®æ­£ |
| `docs` | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
| `style` | ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆæ©Ÿèƒ½å¤‰æ›´ãªã—ï¼‰ |
| `refactor` | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° |
| `test` | ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£ |
| `chore` | ãƒ“ãƒ«ãƒ‰ãƒ»è¨­å®šå¤‰æ›´ |
| `ci` | CI/CDè¨­å®š |

---

## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### TypeScript
- å³æ ¼ãªå‹å®šç¾©ã‚’ä½¿ç”¨ï¼ˆ`strict: true`ï¼‰
- `any` å‹ã®ä½¿ç”¨ã¯æœ€å°é™ã«
- æ˜ç¤ºçš„ãªæˆ»ã‚Šå€¤ã®å‹å®šç¾©ã‚’æ¨å¥¨

### React/Next.js
- é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨
- Server Componentså„ªå…ˆ
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ `'use client'` ã‚’æ˜ç¤º

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ
```
src/
â”œâ”€â”€ app/           # Next.js App Router
â”œâ”€â”€ components/    # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ lib/           # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â””â”€â”€ types/         # å‹å®šç¾©
```

---

## å“è³ªæ‹…ä¿

### å¿…é ˆãƒã‚§ãƒƒã‚¯
- [ ] ESLint: `npm run lint`
- [ ] TypeScript: `npx tsc --noEmit`
- [ ] Unit Test: `npm run test:unit`
- [ ] Build: `npm run build`

### æ¨å¥¨ãƒã‚§ãƒƒã‚¯
- [ ] Integration Test: `npm run test:integration`
- [ ] E2E Test: `npm run test:e2e`

---

## ç¦æ­¢äº‹é …

### ãƒ–ãƒ©ãƒ³ãƒæ“ä½œ
1. **mainã¸ã®ç›´pushç¦æ­¢**
   - å…¨ã¦ã®å¤‰æ›´ã¯PRã‚’é€šã˜ã¦è¡Œã†
   - `git push origin main` ã¯æ‹’å¦ã•ã‚Œã‚‹

2. **force pushç¦æ­¢**
   - `git push --force` ã¯åŸå‰‡ç¦æ­¢
   - ä¾‹å¤–: è‡ªåˆ†ã®featureãƒ–ãƒ©ãƒ³ãƒã®ã¿è¨±å¯

### ã‚³ãƒ¼ãƒ‰
1. **console.logã®æœ¬ç•ªæ®‹ç•™ç¦æ­¢**
   - ãƒ‡ãƒãƒƒã‚°ç”¨ã®ãƒ­ã‚°ã¯å‰Šé™¤ã™ã‚‹ã“ã¨

2. **æœªä½¿ç”¨importã®æ®‹ç•™ç¦æ­¢**
   - ESLintã§æ¤œå‡ºãƒ»é™¤å»

### ä¾‹å¤–å¯¾å¿œ
- ç·Šæ€¥æ™‚ã¯hotfix/*ãƒ–ãƒ©ãƒ³ãƒã‚’ä½¿ç”¨
- ãƒãƒ¼ãƒ è²¬ä»»è€…ã®æ‰¿èªã‚’å¾—ã¦ã‹ã‚‰ãƒãƒ¼ã‚¸

---

## é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ†ã‚¹ãƒˆ
npm test              # å…¨ãƒ†ã‚¹ãƒˆ
npm run test:unit     # å˜ä½“ãƒ†ã‚¹ãƒˆ
npm run test:integration  # çµåˆãƒ†ã‚¹ãƒˆ
npm run test:e2e      # E2Eãƒ†ã‚¹ãƒˆ

# ãƒªãƒ³ãƒˆ
npm run lint

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
npm run db:init       # DBåˆæœŸåŒ–
npm run db:reset      # DBãƒªã‚»ãƒƒãƒˆ
```

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [README.md](./README.md) - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- [ä½œæ¥­è¨ˆç”»](./workspace/guardrails-work-plan.md) - ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«è¨­å®šè¨ˆç”»
