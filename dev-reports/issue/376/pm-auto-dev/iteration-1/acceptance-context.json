{
  "issue_number": 376,
  "feature_summary": "External Apps プロキシが pathPrefix を保持して upstream に転送するよう修正",
  "acceptance_criteria": [
    "http://localhost:3000/proxy/{pathPrefix}/ 経由でbasePath設定済みアプリにアクセスできる",
    "ヘルスチェックが正常に動作する",
    "既存のテストが通る",
    "新規テストが追加されパスする",
    "TypeScript エラーなし（npx tsc --noEmit）",
    "ESLint エラーなし（npm run lint）"
  ],
  "test_scenarios": [
    "シナリオ1: GET /proxy/localllmtest/page → upstream に /proxy/localllmtest/page を転送する（pathPrefix保持）",
    "シナリオ2: GET /proxy/myapp/ → upstream に /proxy/myapp/ を転送する（ルートパス）",
    "シナリオ3: 既存テスト（handler.test.ts, logger.test.ts）が全てパスする",
    "シナリオ4: 新規route.test.ts統合テストがパスする",
    "シナリオ5: logger.ts の二重プレフィックスが解消されている（ログ出力検証）",
    "シナリオ6: TypeScript型チェック・ESLintが全てパスする"
  ],
  "implemented_files": [
    "src/app/proxy/[...path]/route.ts",
    "src/lib/proxy/handler.ts",
    "src/lib/proxy/logger.ts",
    "tests/unit/proxy/logger.test.ts",
    "tests/unit/proxy/handler.test.ts",
    "tests/unit/proxy/route.test.ts"
  ]
}
