{
  "issue_number": 162,
  "stage": 3,
  "stage_name": "影響分析レビュー",
  "status": "success",
  "design_policy_updated": true,
  "reflected_items": {
    "must_fix": [
      {
        "id": "MF-S3-001",
        "item": "renameFileOrDirectory() リファクタリングが既存テストに影響する - 回帰テスト戦略追加",
        "sections_updated": ["6-3 (新規: 回帰テスト戦略)", "9-1 (新規: 間接影響ファイル)", "13 Phase 4 (テスト)"],
        "status": "reflected"
      },
      {
        "id": "MF-S3-002",
        "item": "PATCH API の action パラメータ 'move' 追加時の destination バリデーション追加",
        "sections_updated": ["3-1-2 (APIルート)", "13 Phase 1 (バックエンド実装)"],
        "status": "reflected"
      }
    ],
    "should_fix": [
      {
        "id": "SF-S3-001",
        "item": "useFileSearch フックの TreeItem 依存への影響確認 - 間接影響ファイル一覧に追加",
        "sections_updated": ["9-1 (新規: 間接影響ファイル)"],
        "status": "reflected"
      },
      {
        "id": "SF-S3-002",
        "item": "FileTreeView の TreeNodeProps に onMove callback を追加する影響 - 伝播範囲を明確化",
        "sections_updated": ["3-1-4 (コンテキストメニュー拡張)", "13 Phase 2 (フロントエンド実装)"],
        "status": "reflected"
      },
      {
        "id": "SF-S3-003",
        "item": "MoveDialog のディレクトリツリー取得が大規模リポジトリで遅延する可能性 - ローディングインジケーター追加",
        "sections_updated": ["3-1-3 (MoveDialog)", "13 Phase 2 (フロントエンド実装)"],
        "status": "reflected"
      },
      {
        "id": "SF-S3-004",
        "item": "useFileOperations フックのテスト戦略が未定義 - テスト方針明記",
        "sections_updated": ["6-4 (新規: カスタムフックのテスト方針)"],
        "status": "reflected"
      },
      {
        "id": "SF-S3-005",
        "item": "move 操作のレスポンスに path フィールドの内容が不明確 - 仕様明記",
        "sections_updated": ["3-1-1 (バックエンド moveFileOrDirectory)", "3-1-2 (APIルート)"],
        "status": "reflected"
      }
    ],
    "consider": [
      {
        "id": "CO-S3-001",
        "item": "TreeResponse の API レスポンスサイズ増加",
        "status": "noted_in_review_summary"
      },
      {
        "id": "CO-S3-002",
        "item": "WorktreeCard.tsx の formatDistanceToNow と date-utils.ts の重複",
        "status": "noted_in_review_summary"
      },
      {
        "id": "CO-S3-003",
        "item": "データベーススキーマへの影響なし",
        "status": "noted_in_review_summary"
      },
      {
        "id": "CO-S3-004",
        "item": "fs.rename() のクロスデバイス移動制限",
        "sections_updated": ["8 (設計上の決定事項とトレードオフ)"],
        "status": "reflected_in_design_decisions"
      },
      {
        "id": "CO-S3-005",
        "item": "macOS/Linux での birthtime の信頼性",
        "status": "noted_in_review_summary"
      }
    ]
  },
  "skipped": [],
  "design_doc_path": "dev-reports/design/issue-162-file-enhancement-design-policy.md",
  "sections_updated": [
    "3-1-1 (バックエンド: moveFileOrDirectory - 返り値 path 仕様追加)",
    "3-1-2 (APIルート: destination バリデーション追加、レスポンス path 仕様明記)",
    "3-1-3 (MoveDialog: ローディングインジケーター要件追加)",
    "3-1-4 (コンテキストメニュー: onMove 伝播範囲明確化)",
    "6-3 (新規: 回帰テスト戦略)",
    "6-4 (新規: カスタムフックのテスト方針)",
    "8 (設計上の決定事項: EXDEV エラー考慮追加)",
    "9-1 (新規: 間接影響ファイル一覧)",
    "11 (レビュー履歴: Stage 3 追加)",
    "12 (レビュー指摘事項サマリー: Stage 3 追加)",
    "13 (実装チェックリスト: Stage 3 項目追加)"
  ],
  "timestamp": "2026-02-15T12:30:00Z"
}
